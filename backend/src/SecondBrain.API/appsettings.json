{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "SecondBrain": "Information"
    },
    "Console": {
      "FormatterName": "simple",
      "FormatterOptions": {
        "SingleLine": false,
        "IncludeScopes": true,
        "TimestampFormat": "HH:mm:ss ",
        "ColorBehavior": "Enabled"
      }
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Database=secondbrain;Username=postgres;Password=password"
  },
  "Cors": {
    "AllowedOrigins": ["http://localhost:3000", "http://localhost:5173"],
    "AllowLocalNetworkIps": true
  },
  "Jwt": {
    "SecretKey": "YourSuperSecretKeyThatIsAtLeast32CharactersLong!",
    "Issuer": "SecondBrain",
    "Audience": "SecondBrainUsers",
    "ExpiryMinutes": 1440
  },
  "AIProviders": {
    "OpenAI": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://api.openai.com/v1",
      "DefaultModel": "gpt-4o-mini",
      "MaxTokens": 4096,
      "Temperature": 0.7,
      "TimeoutSeconds": 30,
      "Features": {
        "EnableFunctionCalling": true,
        "EnableStructuredOutput": true,
        "EnableVision": true,
        "EnableWebSearch": false,
        "EnableAudioChat": false,
        "EnableTranscription": false,
        "EnableModeration": false
      },
      "FunctionCalling": {
        "MaxIterations": 10,
        "ParallelExecution": true,
        "TimeoutSeconds": 30
      }
    },
    "Gemini": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://generativelanguage.googleapis.com/v1beta",
      "DefaultModel": "gemini-2.0-flash",
      "MaxTokens": 8192,
      "Temperature": 0.7,
      "TopP": 0.9,
      "TopK": 40,
      "TimeoutSeconds": 30,
      "FunctionCalling": {
        "MaxIterations": 10,
        "ParallelExecution": true,
        "TimeoutSeconds": 30
      }
    },
    "Anthropic": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://api.anthropic.com/v1",
      "DefaultModel": "claude-3-5-haiku-latest",
      "MaxTokens": 8192,
      "Temperature": 0.7,
      "TimeoutSeconds": 60,
      "Version": "2023-06-01",
      "Features": {
        "EnableFunctionCalling": true,
        "EnableExtendedThinking": false,
        "EnablePromptCaching": true,
        "EnableCitations": false,
        "EnablePdfSupport": true
      },
      "Thinking": {
        "Enabled": false,
        "DefaultBudget": 10000,
        "MaxBudget": 50000,
        "IncludeThinkingInResponse": true
      },
      "Caching": {
        "Enabled": true,
        "MinContentTokens": 1024
      }
    },
    "Ollama": {
      "Enabled": true,
      "BaseUrl": "http://localhost:11434",
      "DefaultModel": "qwen3:4b",
      "KeepAlive": "5m",
      "Temperature": 0.7,
      "TimeoutSeconds": 120,
      "StreamingEnabled": true,
      "Features": {
        "EnableFunctionCalling": true,
        "EnableStructuredOutput": true,
        "EnableVision": true
      },
      "FunctionCalling": {
        "MaxIterations": 10,
        "ParallelExecution": true,
        "TimeoutSeconds": 30
      }
    },
    "XAI": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://api.x.ai/v1",
      "DefaultModel": "grok-3-mini",
      "MaxTokens": 4096,
      "Temperature": 0.7,
      "TimeoutSeconds": 120,
      "MaxContextTokens": 131072,
      "Features": {
        "EnableFunctionCalling": true,
        "EnableStructuredOutput": true,
        "EnableVision": true,
        "EnableThinkMode": true,
        "EnableLiveSearch": true,
        "EnableDeepSearch": true
      },
      "FunctionCalling": {
        "MaxIterations": 10,
        "ParallelExecution": true,
        "TimeoutSeconds": 30
      },
      "ThinkMode": {
        "DefaultEffort": "medium",
        "IncludeReasoningInResponse": false
      },
      "Search": {
        "DefaultMode": "auto",
        "DefaultSources": ["web", "x"],
        "DefaultRecency": "day",
        "MaxResults": 10
      },
      "DeepSearch": {
        "MaxSources": 20,
        "MaxTimeSeconds": 120
      },
      "ImageGeneration": {
        "DefaultModel": "grok-2-image",
        "DefaultSize": "1024x1024",
        "MaxCount": 4
      }
    },
    "Cohere": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://api.cohere.com/v2",
      "DefaultModel": "command-r-plus",
      "RerankModel": "rerank-v3.5",
      "EmbedModel": "embed-v4.0",
      "MaxTokens": 4096,
      "Temperature": 0.7,
      "TimeoutSeconds": 30
    }
  },
  "EmbeddingProviders": {
    "DefaultProvider": "OpenAI",
    "OpenAI": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://api.openai.com/v1",
      "Model": "text-embedding-3-small",
      "Dimensions": 1536,
      "TimeoutSeconds": 30
    },
    "Gemini": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "https://generativelanguage.googleapis.com/v1beta",
      "Model": "text-embedding-004",
      "Dimensions": 768,
      "TimeoutSeconds": 30
    },
    "Ollama": {
      "Enabled": true,
      "BaseUrl": "http://localhost:11434",
      "Model": "nomic-embed-text",
      "Dimensions": 768,
      "TimeoutSeconds": 120
    }
  },
  "EmbeddingCache": {
    "EnableCaching": true,
    "CacheDurationHours": 24,
    "MaxMemorySizeMB": 100
  },
  "CircuitBreaker": {
    "FailureRatio": 0.5,
    "SamplingDurationSeconds": 30,
    "MinimumThroughput": 5,
    "BreakDurationSeconds": 60
  },
  "OpenTelemetry": {
    "OtlpEndpoint": "http://localhost:4317",
    "ExportToConsole": false,
    "ServiceName": "SecondBrain.API"
  },
  "Caching": {
    "Hybrid": {
      "MaximumPayloadBytes": 1048576,
      "DefaultExpiration": "00:30:00",
      "LocalCacheExpiration": "00:05:00"
    }
  },
  "HealthChecks": {
    "PublishInterval": "00:00:30",
    "InitialDelay": "00:00:05"
  },
  "RAG": {
    "ChunkSize": 500,
    "ChunkOverlap": 100,
    "TopK": 5,
    "SimilarityThreshold": 0.25,
    "MaxContextLength": 8000,
    "EnableChunking": true,
    "VectorStoreProvider": "PostgreSQL",
    
    "EnableHybridSearch": true,
    "EnableNativeHybridSearch": true,
    "VectorWeight": 0.7,
    "BM25Weight": 0.3,
    "RRFConstant": 60,
    
    "EnableQueryExpansion": true,
    "EnableHyDE": true,
    "MultiQueryCount": 2,
    
    "EnableReranking": true,
    "InitialRetrievalCount": 15,
    "RerankingProvider": "OpenAI",
    "MinRerankScore": 3.0,
    
    "EnableSemanticChunking": true,
    "MinChunkSize": 150,
    "MaxChunkSize": 600,
    
    "EnableAnalytics": true,
    "LogDetailedMetrics": true
  },
  "Pinecone": {
    "ApiKey": "",
    "Environment": "us-east-1-aws",
    "IndexName": "second-brain-index",
    "Model": "text-embedding-3-small",
    "Dimensions": 1536
  },
  "StructuredOutput": {
    "DefaultProvider": "Gemini",
    "DefaultTemperature": 0.1,
    "Providers": {
      "OpenAI": { "Enabled": true, "Model": "gpt-4o" },
      "Anthropic": { "Enabled": true, "Model": "claude-3-5-sonnet-20241022" },
      "Gemini": { "Enabled": true, "Model": "gemini-2.0-flash" },
      "Grok": { "Enabled": true, "Model": "grok-3-mini" },
      "Ollama": { "Enabled": true, "Model": "qwen3:4b" }
    }
  },
  "NoteSummary": {
    "Enabled": true,
    "Provider": "OpenAI",
    "Model": "gpt-4o-mini",
    "MaxTokens": 150,
    "Temperature": 0.3,
    "MaxSummaryLength": 500,
    "MaxInputContentLength": 4000,
    "GenerateOnCreate": true,
    "GenerateOnUpdate": true,
    "BackgroundGeneration": false,
    "RegenerateThreshold": 0.1,
    "TimeoutSeconds": 30
  },
  "Git": {
    "AllowedRepositoryRoots": [],
    "RequireUserScopedRoot": false
  },
  "GitHub": {
    "PersonalAccessToken": "",
    "DefaultOwner": "",
    "DefaultRepo": "",
    "TimeoutSeconds": 30,
    "BaseUrl": "https://api.github.com",
    "EnableCaching": true,
    "CacheDurationMinutes": 2
  },
  "Voice": {
    "DefaultTTSProvider": "ElevenLabs",
    "DefaultSTTProvider": "Deepgram",
    "Deepgram": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "wss://api.deepgram.com/v1/listen",
      "Model": "nova-3",
      "Language": "en",
      "PunctuationEnabled": true,
      "InterimResults": true,
      "Diarization": false,
      "SampleRate": 16000,
      "Encoding": "linear16",
      "Channels": 1,
      "EndpointingMs": 2500,
      "SmartFormat": true,
      "FillerWords": false,
      "ProfanityFilter": false
    },
    "ElevenLabs": {
      "Enabled": true,
      "ApiKey": "",
      "BaseUrl": "wss://api.elevenlabs.io/v1/text-to-speech",
      "RestBaseUrl": "https://api.elevenlabs.io/v1",
      "DefaultVoiceId": "21m00Tcm4TlvDq8ikWAM",
      "Model": "eleven_turbo_v2_5",
      "Stability": 0.5,
      "SimilarityBoost": 0.75,
      "Style": 0.0,
      "UseSpeakerBoost": true,
      "OutputFormat": "pcm_16000",
      "OptimizeStreamingLatency": 3,
      "TimeoutSeconds": 30
    },
    "OpenAITTS": {
      "Enabled": false,
      "ApiKey": "",
      "BaseUrl": "https://api.openai.com/v1",
      "DefaultVoiceId": "nova",
      "Model": "tts-1",
      "ResponseFormat": "pcm",
      "Speed": 1.0,
      "TimeoutSeconds": 30
    },
    "Features": {
      "EnableVoiceAgent": true,
      "EnableInterruption": true,
      "SilenceTimeoutMs": 2500,
      "MaxConversationMinutes": 30,
      "MaxConcurrentSessionsPerUser": 1,
      "SessionIdleTimeoutMinutes": 5,
      "EnableServerVAD": true,
      "AudioBufferSize": 4096,
      "EnableAgentMode": true,
      "DefaultCapabilities": ["notes", "web"]
    },
    "GrokVoice": {
      "Enabled": true,
      "WebSocketUrl": "wss://api.x.ai/v1/realtime",
      "EphemeralTokenUrl": "https://api.x.ai/v1/realtime/client_secrets",
      "DefaultVoice": "ara",
      "EnableWebSearch": true,
      "EnableXSearch": true,
      "VAD": {
        "Threshold": 0.5,
        "SilenceDurationMs": 500,
        "PrefixPaddingMs": 300
      }
    }
  }
}
